# FirstPhase

StudyPlusの勉強ではなく、実践にフォーカスした、
クリエイター向け、実践時間記録SNS。

MVVMで作る
①依存関係が逆転せず、役割と流れがきちんとしていれば問題ない。
②Statusの管理の必要性が理解できてないので、もう一度調べる。
③データの管理ロジックはModel部分。操作はViewからでもOK?→いや操作は必ずVMからにする。流れが一貫した方がいい。

MVVMの場合データ(Repository)の保管自体はVMで行うと思うんですが、その値を更新するロジックがModel部分におくとすると、知ってなければいけない？
直接更新するような関数にせず、ただ値を返す関数にしておいて、適切なタイミングでしようするように実装すればいいかも。


Issue
CreatePracticeView上で、
PickerのSelectionにオプショナルのEnumをセットした際に、
テストの際Enumの値が表示されるが、選択しても反応しなく（おそらく該当の変数にEnumの値をセットできなく）なった。
デフォルトとしての値に設定することで回避したが、本来どうするべきだったか不明。
ロジック部分で/Practice返すのではなくデータベースにアクセスして、直接書き換えるみたいな役割にした方がいい。ViewModel部分で該当の部分を読み込むようにする。


VMをStructで構成した場合, mutating func内のクロージャ（Firestore へのアクセス成功と失敗の管理用）で自己の値を書き換えられなかった。
なのでクラスにする必要が出てきた。
ViewのUpdatePracticeがある場合はそれぞれの値を初期値として渡す。onAppearでは再読み込みが走ってしまった。
全てのVMはエラーの表示のためにDIが少なくとも必要じゃない？
